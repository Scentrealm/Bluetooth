## 气味王国设备终端通讯归一化协议

## 一、协议总体结构说明

- 1. **系统构成**

设备终端模块通过RS232/RS485/TCP或者4G/WIFI等无线连接到PC/手机平板或者云服务端，协议在应用层

- 1. **通信参数约定**

使用串口通信时，通信参数：19200,N,8,1; 不同设备通信参数不一样，请按实际应用场景 确定。

- 1. **数据帧结构**

| 项名称 | 包头  | 源地址 | 目标地址 | 指令码 | 数据长度 | 数据  | 校验  | 包尾  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 字节数 | 1   | 2   | 2   | 1   | 1   | N<256 | 2   | 1   |
| 示例  | 0xF5 | 0x00,0x00 | 0x02,0x03 | 0x01 | 0x01 | 0x00 | 0x07 | 0x55 |

帧结构说明：

| 名称  | 说明  |     |
| --- | --- | --- |
| 帧头  | 固定数据0xF5 |     |
| 源地址 | 2字节，从0到0xFFFF，其中地址0xFFFF表示所有设备 |     |
| 目标地址 | 2字节，从0到0xFFFF，其中地址0xFFFF表示所有设备，广播数据包 |     |
| 指令码 | 1字节，详细下面章节说明 |     |
| 数据长度 | 1字节，表示帧数据段的数据长度，最大255 |     |
| 数据  | N(N<256)字节,表示指令参数 |     |
| 校验  | 2字节，使用CRC校验，校验方法见附录 | 计算包括从源地址到数据段 |
| 帧尾  | 固定数据0x55 |     |

参数化控制气味播放器播放，多气路循环、交替控制、轮流播放，CRC校验去包头和包尾及校验4字节除外。

设备类型与地址：

| **服务端设备类型** | **代码(单个16进制)** | **下端设备类型** | **代码(单个16进制)** |
| --- | --- | --- | --- |
| PC上位机端 | 0x01 | 脖戴式气味播放器 | 0x01 |
| 同步器 | 0x02 | 气味钢琴 | 0x02 |
| 手机端(BLE) | 0x03 | 数字香水 | 0x03 |
| 阿里云部署服务 | 0x04 | 车载模块 | 0x04 |
| IOT | 0x08 |     |     |

在发送数据地址中，为了方便业务区分，增加标识，如本机类型PC，下发到车载模块，合成本机设备地址高位为 0x14, 如果上位机是IOT系统，则本机设备地址高位为 0x84。本机设备低地址为序号(如IOT向车载设备发送指令，IOT序号为0x01则本机设备地址为0x84,0x01)，未使用到可自行定义本机设备地址。

注：在从站响应时，如果未实现此条指令，则返回此功能码，并在执行结果标志位填充错误代码，如下所示：

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x48 |
| 2   | 本机设备地址低8位 | 0x00 |
| 3   | 目标设备地址高8位 | 0x00 |
| 4   | 目标设备地址低8位 | 0x01 |
| 5   | 功能码 | 对应收到的功能码 |
| 6   | 数据长度 | 0x01 |
| 7   | 执行结果标志 | 0x00执行成功;大于0x01执行失败 |
| 8   | 校验字高8位 | 0x00 |
| 9   | 校验字低8位 | 0x05 |
| 10  | 包尾  | 0x55 |

其中字节序号第7位表示执行结果：

| 执行结果标志 | 标志说明 |
| --- | --- |
| 0x00 | 执行成功 |
| 0x01 | 执行失败 |
| 0x02 |     |
|     |     |

## 二、常用指令编码

### 1、停止播放/重启与初始化 0x00

#### 1）描述

停止当前播放或者重启，或者初始化参数。

#### 2）主机请求

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xf5 |
| 1   | 本机设备地址高8位 | 0x84 IOT -> 车载模块(08->04) |
| 2   | 本机设备地址低8位 | 0x00 |
| 3   | 目标设备地址高8位 | 0x00 |
| 4   | 目标设备地址低8位 | 0x01 |
| 5   | 功能码 | 0x00 |
| 6   | 数据长度 | 0x01 |
| 7   | 功能标志 | 0x00:停止;0x01:初始化;0x02:重启 |
| 8   | 校验字高8位 | 0x00 |
| 9   | 校验字低8位 | 0x05 |
| 10  | 包尾  | 0x55 |

注：其中序号7功能标志段中占一字节；

值 0x00: 停止播放；0x01: 初始化；0x02：重启

#### 3）从站响应

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x48 |
| 2   | 本机设备地址低8位 | 0x00 |
| 3   | 目标设备地址高8位 | 0x00 |
| 4   | 目标设备地址低8位 | 0x01 |
| 5   | 功能码 | 0x00 |
| 6   | 数据长度 | 0x01 |
| 7   | 执行结果标志 | 0x00执行成功;大于0x01执行失败 |
| 8   | 校验字高8位 | 0x00 |
| 9   | 校验字低8位 | 0x05 |
| 10  | 包尾  | 0x55 |

注：执行结果标志：0x00：成功；0x01执行失败

### 3、播放单路气味0x02

#### 1）描述

模块单路播放，当气味编号大于256时，目标地址低8位作为扩展气味编号高位。

注：在324路使用时，气味编号 = 分组个数(自定义 小于255) \* 组数(目标地址低8位) + 气味编号字段数据；例如：气味编号217，分组个数108，则217=108\*2+1(编码为目标地址低8位为0x02，气味编号字段为0x01)；

#### 2）主机请求

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xf5 |
| 1   | 本机设备地址高8位 | 0x84 |
| 2   | 本机设备地址低8位 | 0x01 |
| 3   | 目标设备地址高8位 | 0x00 |
| 4   | 目标设备地址低8位 | 0x00 当气路数>256 |
| 5   | 功能码 | 0x02 |
| 6   | 数据长度 | 0x05 |
| 7   | 气味编号 | 0x01 |
| 8   | 持续时间(ms)-- 4字节Int类型<br><br>或者是播放总体积ml | 0x00 |
| 9   | 0x00 |
| 10  | 0x00 |
| 11  | 0x0A ms |
|     | 播放脚本编号 | 0x01 |
| 12  | 校验字高8位 | 0x00 |
| 13  | 校验字低8位 | 0x05 |
| 14  | 包尾  | 0x55 |

注：序号8，9，10，11的持续时间或者持续总体积为4字节整数，单位持续时间毫秒(ms)或者持续总体积毫升(ml)。

#### 3）从站响应

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xf5 |
| 1   | 本机设备地址高8位 | 0x84 |
| 2   | 本机设备地址低8位 | 0x00 |
| 3   | 目标设备地址高8位 | 0x00 |
| 4   | 目标设备地址低8位 | 0x00 |
| 5   | 功能码 | 0x02 |
| 6   | 数据长度 | 0x01 |
| 7   | 有效数据 | 操作结果 0x00: 成功; 0x01: 完成 |
| 8   | 校验字高8位 | 0x00 |
| 9   | 校验字低8位 | 0x05 |
| 10  | 包尾  | 0x55 |

### 4、查询设备工作状态0x03

#### 1）描述

查询气味播放器的当前状态。

#### 2）主机请求

请求中有效数据为0字节。

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xf5 |
| 1   | 本机设备地址高8位 | 0x13 |
| 2   | 本机设备地址低8位 | 0x01 |
| 3   | 目标设备地址高8位 | 0x00 |
| 4   | 目标设备地址低8位 | 0x01 |
| 5   | 功能码 | 0x03（查询状态） |
| 6   | 数据长度 | 0x00 |
| 7   | 校验字高8位 | 0x00 |
| 8   | 校验字低8位 | 0x05 |
| 9   | 包尾  | 0x55 |

#### 3）从站响应

气味播放器响应中有效数据为1字节，包含设备状态（1字节）。

| **设备状态** | **对应代码** |
| --- | --- |
| 待机  | 0x00 |
| 播放气味（高级） | 0x07 |
| 料芯故障 | 0x09 |
| 其他错误 | 0xff |
| 脚本不存在 | 0xfe |
|     |     |

| **字节** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xf5 |
| 1   | 本机设备地址高8位 | 0x13 |
| 2   | 本机设备地址低8位 | 0x01 |
| 3   | 目标设备地址高8位 | 0x00 |
| 4   | 目标设备地址低8位 | 0x01 |
| 5   | 功能码 | 0x03（查询状态） |
| 6   | 数据长度 | 3   |
| 7   | 有效数据 | 设备状态(参见设备状态表)  0x00 |
| 8   | 气味编号 | 高字节  0x00 |
| 9   | 低字节 | 0x01 |
| 10  | 已播放脚本时长（s） | 高字节  0x00 |
| 11  | 低字节 | 0x01 |
| 12  | 脚本总时长（s） | 高字节  0x01 |
| 13  | 低字节 | 0x05 |
| 14  | 校验字高8位 | 0x00 |
| 15  | 校验字低8位 | 0x05 |
| 16  | 包尾  | 0x55 |

设备状态表

| 状态码 | 状态名称 |
| --- | --- |
| 0   | 空闲  |
| 1   | 正在播放脚本编号1 |
| 2   | 正在播放脚本编号2 |
| 3   | 正在播放脚本编号3 |
| 4   | 正在播放脚本编号4 |
| 5   | 正在播放脚本编号5 |
| 6   | 正在播放脚本编号6 |
| 7   | 正在播放1号通道 |
| 8   | 正在播放2号通道 |
| 9   | 正在播放3号通道 |
| 10  | 正在播放4号通道 |
| 11  | 正在播放5号通道 |
| 12  | 正在播放6号通道 |
| 13  | 正在循环播放 |

### 5、获取设备UUID和编号 0x04

#### 1）描述

主机通过发送数据获取设备编号和UUID；

#### 2）主机请求

请求中有效数据为1字节(功能码)

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xf5 |
| 1   | 本机设备地址高8位 | 0x18 (上位机->从机模块） |
| 2   | 本机设备地址低8位 | 0x00 |
| 3   | 目标设备地址高8位（尚未分配，无意义） | 0x00 |
| 4   | 目标设备地址低8位（尚未分配，无意义） | 0x00 |
| 5   | 功能码 | 0x04（获取UUID） |
| 6   | 数据长度 | 0x00 |
| 7   | 校验字高8位 | 0x00 |
| 8   | 校验字低8位 | 0x00 |
| 9   | 包尾  | 0x55 |

#### 3）从站响应

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
|  0  | 包头  | 0xf5 |
|  1  | 本机设备地址高8位 | 0x81 |
|  2  | 本机设备地址低8位 | 0x01 |
|  3  | 目标设备地址高8位 | 0xFF |
|  4  | 目标设备地址低8位 | 0xFF |
|  5  | 功能码 | 0x04（获取UUID） |
|  6  | 数据长度 | 0x0C |
|  7  | 有效数据 | UUID(12个字节)  默认同本机地址高位 |
|  8  | 默认同本机地址低位 |
|  9  | 0x00 | - |
| 10  | 0x00 | - |
| 11  | 0x00 | - |
| 12  | 0x00 | - |
| 13  | 0x00 | - |
| 14  | 0x00 | - |
| 15  | 0x00 | - |
| 16  | 0x00 | - |
| 17  | 0x00 | - |
| 18  | 0x00 | - |
| 19  | 校验字高8位    | 0x00 |
| 20  | 校验字低8位    | 0x05 |
| 21  | 包尾  |  0x55 |

### 6、获取或设置设备开关量 0x05

#### 1）描述

主机通过发送数据获取设备的开关信号状态，或者设置设备开关量。

#### 2）主机设置

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xf5 |
| 1   | 本机设备地址高8位 | 0x18 (上位机->从机模块） |
| 2   | 本机设备地址低8位 | 0x00 |
| 3   | 目标设备地址高8位 | 0x00 |
| 4   | 目标设备地址低8位 | 0x01 |
| 5   | 功能码 | 0x05 |
| 6   | 数据长度 | 0x01 |
| 7   | 设置开关量值(如无此字段表示读取) | 0x01 |
| 8   | 校验字高8位 | 0x00 |
| 9   | 校验字低8位 | 0x00 |
| 10  | 包尾  | 0x55 |

#### 3）从站响应

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xf5 |
| 1   | 本机设备地址高8位 | 0x81 |
| 2   | 本机设备地址低8位 | 0x01 |
| 3   | 目标设备地址高8位 | 0xFF |
| 4   | 目标设备地址低8位 | 0xFF |
| 5   | 功能码 | 0x05 |
| 6   | 数据长度 | 0x00 |
| 7   | 校验字高8位 | 0x00 |
| 8   | 校验字低8位 | 0x05 |
| 9   | 包尾  | 0x55 |

#### 主机读取

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xf5 |
| 1   | 本机设备地址高8位 | 0x18 (上位机->从机模块） |
| 2   | 本机设备地址低8位 | 0x00 |
| 3   | 目标设备地址高8位 | 0x00 |
| 4   | 目标设备地址低8位 | 0x01 |
| 5   | 功能码 | 0x05 |
| 6   | 数据长度 | 0x00 |
| 7   | 校验字高8位 | 0x00 |
| 8   | 校验字低8位 | 0x00 |
| 9   | 包尾  | 0x55 |

#### 3）从站响应

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xf5 |
| 1   | 本机设备地址高8位 | 0x81 |
| 2   | 本机设备地址低8位 | 0x01 |
| 3   | 目标设备地址高8位 | 0xFF |
| 4   | 目标设备地址低8位 | 0xFF |
| 5   | 功能码 | 0x05 |
| 6   | 数据长度 | 0x01 |
| 7   | 开关标志 8bit | 0x01 |
| 8   | 校验字高8位 | 0x00 |
| 9   | 校验字低8位 | 0x05 |
| 10  | 包尾  | 0x55 |


### 8、获取或者设置设备开机状态 0x07

#### 1）描述

设置或者读取设备的开机状态，包括工作模式:待机，默认播放气味；播放模式:默认每分钟30s(每分钟20S或者每分钟40S，为每分钟播放气味时间)。

#### 2）主机请求

请求中有效数据为1字节(功能码)

| **字节序号** | **含义** |   -  | **示例** |
| --- | --- | --- | --- |
| 0   | 包头  |  -   | 0xF5 |
| 1   | 本机设备地址高8位 |  -   | 0x18 (上位机->从机模块） |
| 2   | 本机设备地址低8位 |  -   | 0x00 |
| 3   | 目标设备地址高8位 |  -   | 0x00 |
| 4   | 目标设备地址低8位 |  -   | 0x01 |
| 5   | 功能码 |  -   | 0x07 |
| 6   | 数据长度 |  -   | 0x03 |
| 7   | 设置/读取(读取时无参数)标志位 |  -   | 0x01为设置0x00为读取 |
| 8   | 工作模式 | 0x00待机;0x01自动播放 | 0x01 |
| 9   | 播放模式 | 20s/min 每分钟播放气味时间 | 0x14 |
| 10  | 校验字高8位 |  -   | 0x00 |
| 11  | 校验字低8位 |  -   | 0x00 |
| 12  | 包尾  |  -   | 0x55 |

#### 3）从站响应

| **字节序号** | **含义** |  -   | **示例** |
| --- | --- | --- | --- |
| 0   | 包头  |   -  | 0xF5 |
| 1   | 本机设备地址高8位 |  -   | 0x81 |
| 2   | 本机设备地址低8位 |  -   | 0x01 |
| 3   | 目标设备地址高8位 |  -   | 0xFF |
| 4   | 目标设备地址低8位 |  -   | 0xFF |
| 5   | 功能码 |   -  | 0x07 |
| 6   | 数据长度 |   -  | 0x02 / 0x03 |
| 7   | 设置(成功标志)/读取(返回FM数据) |  -   | 0x00/0x01 |
| 8   | 成功标志 | 工作模式 | 0x00 |
| 9   | \-  | 播放模式 | 0x14 |
| 10  | 校验字高8位 |  -   | 0x00 |
| 11  | 校验字低8位 |  -   | 0x05 |
| 12  | 包尾  |  -   | 0x55 |

注：获取或者设置设备开机状态在标志位不同时数据长度也不同，如下表所示

|  -  | 设置设备开机状态 |   -  | 读取设备开机状态 |  -   |
| --- | --- | --- | --- | --- |
| 字节  | 发   | 收   | 发   | 收   |
| 数据长度 | 0x03 | 0x02 | 0x01 | 0x03 |
| 设置读取标志 | 0x01 | 0x01 | 0x00 | 0x00 |
|  -   | 0x01(自动播放) | 0x00设置成功 | \-  | 0x01(自动播放) |
|  -   | 0x14(20s/min) | \-  | \-  | 0x14(20s/min) |



### 10、设备方向控制指令 0x09

#### 1）描述

设置设备转动方向指令。

#### 2）主机请求

请求中有效数据为1字节(功能码)

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x18 (上位机->从机模块） |
| 2   | 本机设备地址低8位 | 0x00 |
| 3   | 目标设备地址高8位 | 0x00 |
| 4   | 目标设备地址低8位 | 0x01 |
| 5   | 功能码 | 0x09 |
| 6   | 数据长度 | 0x03 |
| 7   | 0x00设置设备角度,0x01发射,0x02校正 | 0x01、 0x00、0x02 |
| 8   | X轴   地址高字节 | 0x00 |
| 9   | 地址低字节  0x14 |
| 10  | Y轴   地址高字节 | 0x00 |
| 11  | 地址低字节  0x10 |
| 12  | 校验字高8位 | 0x00 |
| 13  | 校验字低8位 | 0x00 |
| 14  | 包尾  | 0x55 |

#### 3）从站响应

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x81 |
| 2   | 本机设备地址低8位 | 0x01 |
| 3   | 目标设备地址高8位 | 0xFF |
| 4   | 目标设备地址低8位 | 0xFF |
| 5   | 功能码 | 0x09 |
| 6   | 数据长度 | 0x01 |
| 7   | 成功标志 | 0x00 |
| 8   | X轴   地址高字节 | 0x00 |
| 9   | 地址低字节 | 0x14 |
| 10  | Y轴  地址高字节 | 0x00 |
| 11  | 地址低字节 | 0x10 |
| 12  | 校验字高8位 | 0x00 |
| 13  | 校验字低8位 | 0x05 |
| 14  | 包尾  | 0x55 |


### 12、设备时间校准指令 0x0B

#### 1）描述

设备时钟校准,读取指令。

#### 2）主机请求

请求中有效数据为1字节(功能码)

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x18 (上位机->从机模块） |
| 2   | 本机设备地址低8位 | 0x00 |
| 3   | 目标设备地址高8位 | 0x00 |
| 4   | 目标设备地址低8位 | 0x01 |
| 5   | 功能码 | 0x0B |
| 6   | 数据长度 | 0x0X |
| 7   | 0x01更新设备时间/0x02读取 | 0x01 |
| 8   | 日期  年(后二位) | 0x15 |
| 9   | 月   | 0x06 |
| 10  | 日   | 0x01 |
| 11  | 星期几(星期四) | 0x01-0x07  0x04 |
| 12  | 时间   时   | 0x09 |
| 13  | 分   | 0x20 |
| 14  | 秒   | 0x00 |
| 15  | 校验字高8位 | 0x00 |
| 16  | 校验字低8位 | 0x00 |
| 17  | 包尾  | 0x55 |

#### 3）从站响应

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x81 |
| 2   | 本机设备地址低8位 | 0x01 |
| 3   | 目标设备地址高8位 | 0xFF |
| 4   | 目标设备地址低8位 | 0xFF |
| 5   | 功能码 | 0x0B |
| 6   | 数据长度 | 0x01 |
| 7   | 成功标志 | 0x00 |
| 8   | 校验字高8位 | 0x00 |
| 9   | 校验字低8位 | 0x05 |
| 10  | 包尾  | 0x55 |

### 13、开始下载/完成下载/读取脚本指令 0x0C

#### 1）描述

开始/完成下载脚本/读取脚本。

#### 2）主机请求

**开始/完成下载脚本**

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x18 (上位机->从机模块） |
| 2   | 本机设备地址低8位 | 0x00 |
| 3   | 目标设备地址高8位 | 0x00 |
| 4   | 目标设备地址低8位 | 0x01 |
| 5   | 功能码 | 0x0C |
| 6   | 数据长度 | 0x03 |
| 7   | 开始/完成标志 | 0x00; 0x01; |
| 8   | 脚本编号 | 0x01 |
| 9   | 指令个数 | 0x09 |
| 10  | 总持续时间(s)  高位  | 0x00 |
| 11  | 低位  | 0x00 |
| 12  | 开启定时播放状态  1开启 | 0x00/0x01 |
| 13  | 星期几  0x01-0x07 | 0x00 |
| 14  | 小时(24小时制) | 0x01 |
| 15  | 分钟  | 0x00 |
| 16  | 是否打开睡眠模式 | 0x01 |
| 17  | 校验字高8位 | 0x00 |
| 18  | 校验字低8位 | 0x00 |
| 19  | 包尾  | 0x55 |

**读取脚本指令**

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x18 (上位机->从机模块） |
| 2   | 本机设备地址低8位 | 0x00 |
| 3   | 目标设备地址高8位 | 0x00 |
| 4   | 目标设备地址低8位 | 0x01 |
| 5   | 功能码 | 0x0C |
| 6   | 数据长度 | 0x03 |
| 7   | 读取脚本 | 0x02 |
| 8   | 脚本编号(0x01~0x06) | 0x01 |
| 9   | 校验字高8位 | 0x00 |
| 10  | 校验字低8位 | 0x00 |
| 11  | 包尾  | 0x55 |

#### 3）从站响应

**开始/完成响应**

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x81 |
| 2   | 本机设备地址低8位 | 0x01 |
| 3   | 目标设备地址高8位 | 0xFF |
| 4   | 目标设备地址低8位 | 0xFF |
| 5   | 功能码 | 0x0C |
| 6   | 数据长度 | 0x02 |
| 7   | 开始/完成标志 | 0x00开始; 0x01完成 |
| 8   | 成功标志 | 0x00 |
| 9   | 校验字高8位 | 0x00 |
| 10  | 校验字低8位 | 0x05 |
| 11  | 包尾  | 0x55 |

**读取脚本指令响应**

返回应答帧

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x81 |
| 2   | 本机设备地址低8位 | 0x01 |
| 3   | 目标设备地址高8位 | 0xFF |
| 4   | 目标设备地址低8位 | 0xFF |
| 5   | 功能码 | 0x0C |
| 6   | 数据长度 | 0x02 |
| 7   | 指令标志(0x03表示应答，0x04表示数据) | 0x03 |
| 8   | 脚本编号 | 0x01 |
| 9   | 指令个数 | 0x09 |
| 10  | 总持续时间(s)—2字节整数 | 高位  |
| 11  | 低位  | - |
| 12  | 开启定时播放状态 | 1开启 |
| 13  | 星期几 | 0x01-0x07 |
| 14  | 小时(24小时制) | 0x01 |
| 15  | 分钟  | 0x00 |
| 16  | 校验字高8位 | 0x00 |
| 17  | 校验字低8位 | 0x05 |
| 18  | 包尾  | 0x55 |


返回数据帧


| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x18 (上位机->从机模块） |
| 2   | 本机设备地址低8位 | 0x00 |
| 3   | 目标设备地址高8位 | 0x00 |
| 4   | 目标设备地址低8位 | 0x01 |
| 5   | 功能码 | 0x0C |
| 6   | 数据长度 | 0x03 |
| 7   | 指令标志(0x03表示应答，0x04表示数据) | 0x03 |
| 8   | 脚本编号 | 0x01 |
| 9   | 指令编号 | 0x09 |
| 10  | 气味编号2字节整数  高位  | 0x00 |
| 11  | 低位  | 0x09 |
| 12  | 开始时间(秒)/ 播放时间  高  | 0x00 |
| 13  | 低   | 0x01 |
| 14  | 持续时间(秒)/ 间隔时间  高   | 0x00 |
| 15  | 低   | 0x0A |
| 16  | 校验字高8位 | 0x00 |
| 17  | 校验字低8位 | 0x00 |
| 18  | 包尾  | 0x55 |

### 14、下载脚本指令 0x0D

#### 1）描述

下载脚本指令。

#### 2）主机请求

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头 | 0xF5 |
| 1   | 本机设备地址高8位 | 0x18 (上位机->从机模块） |
| 2   | 本机设备地址低8位 | 0x00 |
| 3   | 目标设备地址高8位 | 0x00 |
| 4   | 目标设备地址低8位 | 0x01 |
| 5   | 功能码 | 0x0D |
| 6   | 数据长度 | 0x03 |
| 7   | 脚本编号 | 0x01 |
| 8   | 指令编号 | 0x09 |
| 9   | 气味编号2字节整数  高位  | 0x00 |
| 10  | 低位  | 0x09 |
| 11  | 开始时间(秒)/ 播放时间  高   | 0x00 |
| 12  | 低   | 0x01 |
| 13  | 持续时间(秒)/ 间隔时间  高   | 0x00 |
| 14  | 低   | 0x0A |
| 15  | 校验字高8位 | 0x00 |
| 16  | 校验字低8位 | 0x00 |
| 17  | 包尾  | 0x55 |

气味编号：如果气味编号为负数，其绝对值代表通道标号。例：0xFFFF 代表|-1|=1，第一通道，0xFFFE 代表|-2|=2，第二通道。

#### 3）从站响应

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x81 |
| 2   | 本机设备地址低8位 | 0x01 |
| 3   | 目标设备地址高8位 | 0xFF |
| 4   | 目标设备地址低8位 | 0xFF |
| 5   | 功能码 | 0x0D |
| 6   | 数据长度 | 0x01 |
| 7   | 成功标志 | 0x00 |
| 8   | 脚本编号 | 0x01 |
| 9   | 指令编号 | 0x09 |
| 10  | 校验字高8位 | 0x00 |
| 11  | 校验字低8位 | 0x05 |
| 12  | 包尾  | 0x55 |

### 15、获取设备气路通道的气味编码 0x0E

#### 1）描述

获取气路通道上的气味编号。

#### 2）主机请求

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x18 (上位机->从机模块） |
| 2   | 本机设备地址低8位 | 0x00 |
| 3   | 目标设备地址高8位 | 0x00 |
| 4   | 目标设备地址低8位 | 0x01 |
| 5   | 功能码 | 0x0E |
| 6   | 数据长度 | 0x01 |
| 7   | 气路通道数 | 0x06 |
| 8   | 校验字高8位 | 0x00 |
| 9   | 校验字低8位 | 0x00 |
| 10  | 包尾  | 0x55 |

#### 3）从站响应

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x81 |
| 2   | 本机设备地址低8位 | 0x01 |
| 3   | 目标设备地址高8位 | 0xFF |
| 4   | 目标设备地址低8位 | 0xFF |
| 5   | 功能码 | 0x0E |
| 6   | 数据长度 | 0x06 |
| 7   | 气路通道1气味编号 | 0x03 |
| 8   | 气路通道2气味编号 | 0x00 /无气味编号为0 |
| 9   | 气路通道3气味编号 | 0x09 |
| 10  | 气路通道4气味编号 | 0x01 |
| 11  | 气路通道5气味编号 | 0x02 |
| 12  | 气路通道N气味编号 | 0x04 |
| 13  | 校验字高8位 | 0x00 |
| 14  | 校验字低8位 | 0x05 |
| 15  | 包尾  | 0x55 |

注：从站返回的气味编号每个气味编号占用12bit(3个16进制码)，；例如：字节编号7，8，9的3个16进制字符串为 0x007006 则气味

| 字节编号7,8,9的16进制字符串 | 气味编号1 | 气味编号2 | 说明  |
| --- | --- | --- | --- |
| 0x00700A | 0x007--> 7 | 0x00A--> 10 |   -  |
| 0x123125 | 0x123--> 291 | 0x125--> 293 |  -   |

### 16、定时播放设置 0x0F

#### 1）描述

设置定时播放。

#### 2）主机请求

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x18 (上位机->从机模块） |
| 2   | 本机设备地址低8位 | 0x00 |
| 3   | 目标设备地址高8位 | 0x00 |
| 4   | 目标设备地址低8位 | 0x01 |
| 5   | 功能码 | 0x0F |
| 6   | 数据长度 | 0x01 |
| 7   | 脚本编码(最大0x06) | 0x03 |
| 8   | 星期几(1比特代表一天) | 0x01 |
| 9   | 时间-小时 | 0x08 |
| 10  | 时间-分钟 | 0x00 |
| 11  | 校验字高8位 | 0x00 |
| 12  | 校验字低8位 | 0x00 |
| 13  | 包尾  | 0x55 |

注：星期数据由每个比特位组成，合成一个2^n数据，如选择了星期一(2^0)，星期二(2^1)和星期三(2^2)则发送的数据为0x07;

#### 3）从站响应

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x81 |
| 2   | 本机设备地址低8位 | 0x01 |
| 3   | 目标设备地址高8位 | 0xFF |
| 4   | 目标设备地址低8位 | 0xFF |
| 5   | 功能码 | 0x0F |
| 6   | 数据长度 | 0x01 |
| 7   | 设置结果 | 0x00(成功) |
| 8   | 校验字高8位 | 0x00 |
| 9   | 校验字低8位 | 0x05 |
| 10  | 包尾  | 0x55 |

### 17、设备透传分包指令 0x10

#### 1）描述

设备透传指令。

#### 2）主机请求

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x18 (上位机->从机模块） |
| 2   | 本机设备地址低8位 | 0x00 |
| 3   | 目标设备地址高8位 | 0x00 |
| 4   | 目标设备地址低8位 | 0x01 |
| 5   | 功能码 | 0x10 |
| 6   | 数据长度 | 0x0A |
| 7   | 总包数 | 0x08 |
| 8   | 当前包数 | 0x00 |
| 9   | 包数据1 | 0x03 |
| 10  | 包数据2 | 0x06(最大值) |
| 11  | 包数据3 | 0x03 |
| 12  | 包数据4 | 0x03 |
| 13  | 包数据5 | 0x01 |
| 14  | 包数据6 | 0x05 |
| 15  | 包数据7 | 0x04 |
| 16  | 包数据N | 0x01 |
| 17  | 校验字高8位 | 0x00 |
| 18  | 校验字低8位 | 0x00 |
| 19  | 包尾  | 0x55 |

#### 3）从站响应

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x81 |
| 2   | 本机设备地址低8位 | 0x01 |
| 3   | 目标设备地址高8位 | 0xFF |
| 4   | 目标设备地址低8位 | 0xFF |
| 5   | 功能码 | 0x10 |
| 6   | 数据长度 | 0x01 |
| 7   | 总包数 | 0x08 |
| 8   | 当前分包 | 0x01 |
| 9   | 设置结果 | 0x00(成功) |
| 10  | 校验字高8位 | 0x00 |
| 11  | 校验字低8位 | 0x05 |
| 12  | 包尾  | 0x55 |

### 18、获取设备状态指令 0x11

#### 1）描述

获取设备状态指令。

#### 2）主机请求

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x18 (上位机->从机模块） |
| 2   | 本机设备地址低8位 | 0x00 |
| 3   | 目标设备地址高8位 | 0x00 |
| 4   | 目标设备地址低8位 | 0x01 |
| 5   | 功能码 | 0x11 |
| 6   | 数据长度 | 0x01 |
| 7   | 标志(备用/设备类型或者状态名称标志) | 0x00 |
| 8   | 校验字高8位 | 0x00 |
| 9   | 校验字低8位 | 0x00 |
| 10  | 包尾  | 0x55 |

#### 3）从站响应

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x81 |
| 2   | 本机设备地址低8位 | 0x01 |
| 3   | 目标设备地址高8位 | 0xFF |
| 4   | 目标设备地址低8位 | 0xFF |
| 5   | 功能码 | 0x11 |
| 6   | 数据长度 | 0x01 |
| 7   | 电压(单位0.02V) | 有检验算法见附录二 |
| 8   | 气味通道编号 | 0x06 |
| 9   | 气味编号; 气味编号：258 高字节 | 0x01 |
| 10  | 低字节 | 0x02 |
| 11  | 气味剩余时间(ms); 剩余10000ms 高字节 | 0x00 |
| 12  | 高字节 | 0x00 |
| 13  | 低字节 | 0x27 |
| 14  | 低字节 | 0x10 |
| 15  | 校验字高8位 | 0x00 |
| 16  | 校验字低8位 | 0x05 |
| 17  | 包尾  | 0x55 |

### 19、获取设备胶囊UID指令 0x12

#### 1）描述

获取胶囊UID。

#### 2）主机请求

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x18 (上位机->从机模块） |
| 2   | 本机设备地址低8位 | 0x00 |
| 3   | 目标设备地址高8位 | 0x00 |
| 4   | 目标设备地址低8位 | 0x01 |
| 5   | 功能码 | 0x12 |
| 6   | 数据长度 | 0x01 |
| 7   | 标志(备用/设备类型或者状态名称标志) | 0x00 |
| 8   | 校验字高8位 | 0x00 |
| 9   | 校验字低8位 | 0x00 |
| 10  | 包尾  | 0x55 |

#### 3）从站响应

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x81 |
| 2   | 本机设备地址低8位 | 0x01 |
| 3   | 目标设备地址高8位 | 0xFF |
| 4   | 目标设备地址低8位 | 0xFF |
| 5   | 功能码 | 0x12 |
| 6   | 数据长度 | 0x01 |
| 7   | 气味通道编号 |  -   |
| 8   | 胶囊UID  高字节 | 0x00 |
| 9   | 高字节 | 0x00 |
| 10  | 低字节 | 0x27 |
| 11  | 低字节 | 0x10 |
| 12  | 校验字高8位 | 0x00 |
| 13  | 校验字低8位 | 0x05 |
| 14  | 包尾  | 0x55 |

### 20、设置混合气味浓度 0x13

#### 1）描述

设置混合气味浓度。

#### 2）主机请求

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x18 (上位机->从机模块） |
| 2   | 本机设备地址低8位 | 0x00 |
| 3   | 目标设备地址高8位 | 0x00 |
| 4   | 目标设备地址低8位 | 0x01 |
| 5   | 功能码 | 0x13 |
| 6   | 数据长度 | 0x01 |
| 7   | 气味1播放体积 | 高位 0x00 |
| 8   | 低位  | 0x30 |
| 9   | 气味2播放体积 | 高位 0x01 |
| 10  | 低位  | 0x10 |
| 11  | 气味3播放体积 | 高位 0x00 |
| 12  | 低位  | 0x35 |
| 13  | 气味4播放体积 | 高位 0x00 |
| 14  | 低位  | 0xA0 |
| 15  | 气味5播放体积 | 高位 0x00 |
| 16  | 低位  | 0x37 |
| 17  | 气味N播放体积 | 高位 0x00 |
| 18  | 低位  | 0x20 |
| 19  | 校验字高8位 | 0x00 |
| 20  | 校验字低8位 | 0x00 |
| 21  | 包尾  | 0x55 |

注：使用蓝牙通信时，为了方便处理包，气味播放体积占用1字节

#### 3）从站响应

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x81 |
| 2   | 本机设备地址低8位 | 0x01 |
| 3   | 目标设备地址高8位 | 0xFF |
| 4   | 目标设备地址低8位 | 0xFF |
| 5   | 功能码 | 0x13 |
| 6   | 数据长度 | 0x01 |
| 7   | 执行标志0x00/完成停止标志0x01 | 0x00//0x01 |
| 8   | 校验字高8位 | 0x00 |
| 9   | 校验字低8位 | 0x05 |
| 10  | 包尾  | 0x55 |

当气味混合时，某个通道已经完成返回以下数据通知上位机

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x81 |
| 2   | 本机设备地址低8位 | 0x01 |
| 3   | 目标设备地址高8位 | 0xFF |
| 4   | 目标设备地址低8位 | 0xFF |
| 5   | 功能码 | 0x13 |
| 6   | 数据长度 | 0x01 |
| 7   | 单个通道完成标志0x02 | 0x02 |
| 8   | 设备通道号 | 0x02 |
| 9   | 校验字高8位 | 0x00 |
| 10  | 校验字低8位 | 0x05 |
| 11  | 包尾  | 0x55 |

### 21、设置发射速度和加热电压 0x14

#### 1）描述

涡环设置发射速度、加热电压、加热时间设置。

#### 2）主机请求

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x18 (上位机->从机模块） |
| 2   | 本机设备地址低8位 | 0x00 |
| 3   | 目标设备地址高8位 | 0x00 |
| 4   | 目标设备地址低8位 | 0x01 |
| 5   | 功能码 | 0x14 |
| 6   | 数据长度 | 0x01 |
| 7   | 发射速度(2字节int型) | 0x00 |
| 8   |  -   | 0x30 |
| 9   | 加热电压(V \* 10) | 0x00 |
| 10  | 3.1V | 0x1F |
| 11  | 加热时间 加热时长(秒) | 0x02 |
| 12  | 休息时长(秒) | 0x02 |
| 19  | 校验字高8位 | 0x00 |
| 20  | 校验字低8位 | 0x00 |
| 21  | 包尾  | 0x55 |

#### 3）从站响应

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x81 |
| 2   | 本机设备地址低8位 | 0x01 |
| 3   | 目标设备地址高8位 | 0xFF |
| 4   | 目标设备地址低8位 | 0xFF |
| 5   | 功能码 | 0x14 |
| 6   | 数据长度 | 0x01 |
| 7   | 执行标志0x00/完成停止标志0x01 | 0x00//0x01 |
| 8   | 校验字高8位 | 0x00 |
| 9   | 校验字低8位 | 0x05 |
| 10  | 包尾  | 0x55 |

### 22、设置或者获取设备开关量 0x15

#### 1）描述

设置气味小播等设备常用开关量。

#### 2）主机请求

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x18 (上位机->从机模块） |
| 2   | 本机设备地址低8位 | 0x00 |
| 3   | 目标设备地址高8位 | 0x00 |
| 4   | 目标设备地址低8位 | 0x01 |
| 5   | 功能码 | 0x15 |
| 6   | 数据长度 | 0x02 |
| 7   | 0x01设置定时开  0x00 0x02开启休眠 | 0x00获取 |
| 8   | 开始时间小时24  持续时间 毫秒(ms) 4字节整数 | 0x0C |
| 9   | 开始时间分钟60 | 0x02 |
| 10  | 结束时间小时24 | 0x11 |
| 11  | 结束时间分钟60 | 0x02 |
| 12  | 开关数据 (N字节) | 0x01 |
| 13  | 校验字高8位 | 0x00 |
| 14  | 校验字低8位 | 0x00 |
| 15  | 包尾  | 0x55 |

注: 第8和9字节表示时间；第10字节表示气味小播指示灯开关量，0x01表示设置开；0x00表示设置关闭；第7字段为0x02时表示立即休眠后面4字节休眠时间

#### 3）从站响应

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x81 |
| 2   | 本机设备地址低8位 | 0x01 |
| 3   | 目标设备地址高8位 | 0xFF |
| 4   | 目标设备地址低8位 | 0xFF |
| 5   | 功能码 | 0x15 |
| 6   | 数据长度 | 0x01 |
| 7   | 0x00/完成;错误0x01  0x02表示读取数据 | 0x00 |
| 8   | N字节开关量数据 | 0x01 |
| 9   | 校验字高8位 | 0x00 |
| 10  | 校验字低8位 | 0x05 |
| 11  | 包尾  | 0x55 |

注：第7字节值为0x02时第8字节表示当前气味小播指示灯开关量。

### 23、获取设备信息 0x16

#### 1）描述

获取设备版本号。

#### 2）主机请求

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x18 (上位机->从机模块） |
| 2   | 本机设备地址低8位 | 0x00 |
| 3   | 目标设备地址高8位 | 0x00 |
| 4   | 目标设备地址低8位 | 0x01 |
| 5   | 功能码 | 0x16 |
| 6   | 数据长度 | 0x00 |
| 7   | 校验字高8位 | 0x00 |
| 8   | 校验字低8位 | 0x00 |
| 9   | 包尾  | 0x55 |

#### 3）从站响应

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x81 |
| 2   | 本机设备地址低8位 | 0x01 |
| 3   | 目标设备地址高8位 | 0xFF |
| 4   | 目标设备地址低8位 | 0xFF |
| 5   | 功能码 | 0x16 |
| 6   | 数据长度 | 0x01 |
| 7   | 版本号 | 0x01 |
| 8   | 版本号 | 0x01 |
| 9   | 版本号 | 0x01 |
| 10  | 校验字高8位 | 0x00 |
| 11  | 校验字低8位 | 0x05 |
| 12  | 包尾  | 0x55 |

### 24、设置蓝牙名称 0x17

#### 1）描述

设置蓝牙名称。

#### 2）主机请求

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x18 (上位机->从机模块） |
| 2   | 本机设备地址低8位 | 0x00 |
| 3   | 目标设备地址高8位 | 0x00 |
| 4   | 目标设备地址低8位 | 0x01 |
| 5   | 功能码 | 0x17 |
| 6   | 数据长度 | 0x00 |
| 7   | 校验字高8位 | 0x00 |
| 8   | 校验字低8位 | 0x00 |
| 9   | 包尾  | 0x55 |

#### 3）从站响应

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x81 |
| 2   | 本机设备地址低8位 | 0x01 |
| 3   | 目标设备地址高8位 | 0xFF |
| 4   | 目标设备地址低8位 | 0xFF |
| 5   | 功能码 | 0x17 |
| 6   | 数据长度 | 0x01 |
| 7   | 执行结果 | 0x00 |
| 8   | 校验字高8位 | 0x00 |
| 9   | 校验字低8位 | 0x05 |
| 10  | 包尾  | 0x55 |

### 25、控制睡眠小灯 0x18

#### 1）描述

控制多功能睡眠小灯。

#### 2）主机请求

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x18 (上位机->从机模块） |
| 2   | 本机设备地址低8位 | 0x00 |
| 3   | 目标设备地址高8位 | 0x00 |
| 4   | 目标设备地址低8位 | 0x01 |
| 5   | 功能码 | 0x18 |
| 6   | 数据长度 | 0x04 |
| 7   | 灯亮度(0-255) | 0xA0 |
| 8   | 红色值(R) | 0x0A |
| 9   | 绿色值(G) | 0x0A |
| 10  | 蓝色值(B) | 0x0A |
| 11  | 校验字高8位 | 0x00 |
| 12  | 校验字低8位 | 0x00 |
| 13  | 包尾  | 0x55 |

#### 3）从站响应

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x81 |
| 2   | 本机设备地址低8位 | 0x01 |
| 3   | 目标设备地址高8位 | 0xFF |
| 4   | 目标设备地址低8位 | 0xFF |
| 5   | 功能码 | 0x18 |
| 6   | 数据长度 | 0x01 |
| 7   | 执行结果 | 0x00 |
| 8   | 校验字高8位 | 0x00 |
| 9   | 校验字低8位 | 0x05 |
| 10  | 包尾  | 0x55 |

### 26、电压校准标定指令 0x19

#### 1）描述

电压校准标定指令。

#### 2）主机请求

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x18 (上位机->从机模块） |
| 2   | 本机设备地址低8位 | 0x00 |
| 3   | 目标设备地址高8位 | 0x00 |
| 4   | 目标设备地址低8位 | 0x01 |
| 5   | 功能码 | 0x19 |
| 6   | 数据长度 | 0x00 |
| 7   | 校验字高8位 | 0x00 |
| 8   | 校验字低8位 | 0x00 |
| 9   | 包尾  | 0x55 |

#### 3）从站响应

| **字节序号** | **含义** | **示例** |
| --- | --- | --- |
| 0   | 包头  | 0xF5 |
| 1   | 本机设备地址高8位 | 0x81 |
| 2   | 本机设备地址低8位 | 0x01 |
| 3   | 目标设备地址高8位 | 0xFF |
| 4   | 目标设备地址低8位 | 0xFF |
| 5   | 功能码 | 0x19 |
| 6   | 数据长度 | 0x01 |
| 7   | 执行结果(0x00, 0x01) | 0x00 |
| 8   | 校验字高8位 | 0x00 |
| 9   | 校验字低8位 | 0x05 |
| 10  | 包尾  | 0x55 |
